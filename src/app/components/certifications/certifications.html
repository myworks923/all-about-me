<div class="certifications-container">
  <div class="certifications-header">
    <h1 class="page-title">
      <mat-icon>verified</mat-icon>
      Certifications & Achievements
    </h1>
    <p class="page-subtitle">Professional certifications and credentials that validate my expertise.</p>
  </div>

  <div class="certifications-grid">
    <mat-card *ngFor="let cert of certifications" class="certification-card">
      <div class="cert-image">
        <img 
          *ngIf="cert.imageUrl" 
          [src]="cert.imageUrl" 
          [alt]="cert.title"
          loading="lazy">
        <div *ngIf="!cert.imageUrl" class="image-placeholder">
          <mat-icon>verified</mat-icon>
        </div>
      </div>

      <mat-card-header>
        <mat-card-title>{{ cert.title }}</mat-card-title>
        <mat-card-subtitle class="issuer">
          <mat-icon>business</mat-icon>
          {{ cert.issuer }}
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <div class="cert-details">
          <div class="cert-dates">
            <div class="date-item">
              <mat-icon>event</mat-icon>
              <div class="date-info">
                <span class="date-label">Issued:</span>
                <span class="date-value">{{ formatDate(cert.issueDate) }}</span>
              </div>
            </div>

            <div class="date-item" *ngIf="cert.expiryDate">
              <mat-icon [color]="isExpired(cert) ? 'warn' : 'primary'">
                {{ isExpired(cert) ? 'event_busy' : 'schedule' }}
              </mat-icon>
              <div class="date-info">
                <span class="date-label">
                  {{ isExpired(cert) ? 'Expired:' : 'Expires:' }}
                </span>
                <span class="date-value" [class.expired]="isExpired(cert)">
                  {{ formatDate(cert.expiryDate) }}
                </span>
              </div>
            </div>

            <div class="date-item" *ngIf="!cert.expiryDate">
              <mat-icon color="primary">all_inclusive</mat-icon>
              <div class="date-info">
                <span class="date-label">Validity:</span>
                <span class="date-value">No expiration</span>
              </div>
            </div>
          </div>

          <p class="description" *ngIf="cert.description">
            {{ cert.description }}
          </p>

          <div class="credential-info" *ngIf="cert.credentialId">
            <mat-icon>fingerprint</mat-icon>
            <span class="credential-id">ID: {{ cert.credentialId }}</span>
          </div>

          <div class="skills" *ngIf="cert.skills.length > 0">
            <h4>Skills Validated:</h4>
            <mat-chip-set>
              <mat-chip *ngFor="let skill of cert.skills" class="skill-chip">
                {{ skill }}
              </mat-chip>
            </mat-chip-set>
          </div>
        </div>
      </mat-card-content>

      <mat-card-actions class="cert-actions">
        <button 
          *ngIf="cert.credentialUrl"
          mat-raised-button 
          color="primary" 
          (click)="openCredential(cert.credentialUrl)">
          <mat-icon>open_in_new</mat-icon>
          Verify Credential
        </button>

        <div class="status-badge" [class.expired]="isExpired(cert)">
          <mat-icon>
            {{ isExpired(cert) ? 'cancel' : 'check_circle' }}
          </mat-icon>
          {{ isExpired(cert) ? 'Expired' : 'Active' }}
        </div>
      </mat-card-actions>
    </mat-card>
  </div>

  <!-- Empty State -->
  <div *ngIf="certifications.length === 0" class="empty-state">
    <mat-icon>verified_user</mat-icon>
    <h3>No Certifications</h3>
    <p>Certification information is being loaded or not available.</p>
  </div>
</div>
